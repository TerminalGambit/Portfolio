<section class="projects-container mat-typography">
  <div class="projects-content">
    <h1 class="mat-display-1">My Projects</h1>
    <p class="mat-body-1 intro-text">
      A collection of projects that showcase my skills in AI, software development, and applied computer science.
      Each project represents a step in my journey of learning and building innovative solutions.
    </p>

    <div class="projects-grid">
      <mat-card class="project-card" 
                [ngClass]="{'featured-project': project.featured}" 
                *ngFor="let project of projects">
        <mat-card-header>
          <div mat-card-avatar class="project-avatar" 
               [ngClass]="{'featured-avatar': project.featured}">
            <mat-icon>{{ getProjectIcon(project.type) }}</mat-icon>
          </div>
          <mat-card-title>{{ project.title }}</mat-card-title>
          <mat-card-subtitle>{{ project.period }} â€¢ {{ project.type }}</mat-card-subtitle>
          <div class="featured-badge" *ngIf="project.featured">
            <mat-icon>star</mat-icon>
            <span>Featured Project</span>
          </div>
        </mat-card-header>

        <mat-card-content>
          <p class="mat-body-1 project-description">{{ project.description }}</p>

          <!-- Special metrics section for ApexAgent -->
          <div class="project-metrics" *ngIf="project.metrics">
            <h4>ðŸ“Š Project Metrics:</h4>
            <div class="metrics-grid">
              <div class="metric-item">
                <span class="metric-value">{{ project.metrics.dataProcessed }}</span>
                <span class="metric-label">Data Processed</span>
              </div>
              <div class="metric-item">
                <span class="metric-value">{{ project.metrics.racesAnalyzed }}</span>
                <span class="metric-label">Races Analyzed</span>
              </div>
              <div class="metric-item">
                <span class="metric-value">{{ project.metrics.features }}</span>
                <span class="metric-label">Features Engineered</span>
              </div>
              <div class="metric-item">
                <span class="metric-value">{{ project.metrics.bestRMSE }}</span>
                <span class="metric-label">Best RMSE</span>
              </div>
              <div class="metric-item">
                <span class="metric-value">{{ project.metrics.bestR2 }}</span>
                <span class="metric-label">Best RÂ²</span>
              </div>
              <div class="metric-item">
                <span class="metric-value">{{ project.metrics.dataRetention }}</span>
                <span class="metric-label">Data Retention</span>
              </div>
            </div>
          </div>

          <!-- Model performance table for ApexAgent -->
          <div class="models-section" *ngIf="project.models">
            <h4>ðŸ¤– Model Performance:</h4>
            <div class="models-table">
              <div class="model-header">
                <span>Model</span>
                <span>RMSE</span>
                <span>RÂ²</span>
                <span>Technique</span>
              </div>
              <div class="model-row" *ngFor="let model of project.models">
                <span class="model-name">{{ model.name }}</span>
                <span class="model-rmse">{{ model.rmse }}</span>
                <span class="model-r2">{{ model.r2 }}</span>
                <span class="model-technique">{{ model.technique }}</span>
              </div>
            </div>
          </div>

          <div class="project-highlights">
            <h4>Key Features:</h4>
            <ul>
              <li *ngFor="let highlight of project.highlights">{{ highlight }}</li>
            </ul>
          </div>

          <div class="learning-section" *ngIf="project.learnings">
            <h4>
              <mat-icon>lightbulb</mat-icon>
              What I Learned:
            </h4>
            <p class="learning-text">{{ project.learnings }}</p>
          </div>

          <div class="technologies-section">
            <h4>Technologies Used:</h4>
            <div class="tech-chips">
              <div class="project-tech-item" *ngFor="let tech of getProjectTechnologies(project.technologies)">
                <i [class]="tech.icon" class="project-tech-icon"></i>
                <span class="project-tech-name" [class.primary-tech]="tech.primary">{{ tech.name }}</span>
              </div>
            </div>
          </div>

          <div class="status-section">
            <mat-chip [color]="getStatusColor(project.status)" selected>
              {{ project.status }}
            </mat-chip>
          </div>
        </mat-card-content>

        <mat-card-actions>
          <button mat-button *ngIf="project.github" 
                  (click)="openLink(project.github)">
            <mat-icon>code</mat-icon>
            View Code
          </button>
          <button mat-button color="primary" *ngIf="project.featured" 
                  (click)="viewProjectDetail(project.title)">
            <mat-icon>article</mat-icon>
            Detailed Analysis
          </button>
          <button mat-button color="primary" *ngIf="!project.featured">
            <mat-icon>info</mat-icon>
            Learn More
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <div class="additional-projects">
      <mat-card class="future-projects-card">
        <mat-card-header>
          <mat-card-title>What's Next?</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p class="mat-body-1">
            I'm currently exploring advanced AI architectures, particularly focusing on multi-agent systems 
            and their applications in financial modeling. Stay tuned for upcoming projects in:
          </p>
          <ul>
            <li>Reinforcement Learning for Trading Strategies</li>
            <li>Multi-Agent Financial Simulations</li>
            <li>Natural Language Processing for Financial Analysis</li>
            <li>Constraint Programming Optimization Tools</li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</section>
